<!doctype html>

<title>ShEx-XMI Parser</title>
<meta charset="utf-8"/>

<link rel="stylesheet" href="./codemirror-5.51.0/lib/codemirror.css">
<link rel="stylesheet" href="./codemirror-5.51.0/theme/ayu-mirage.css">
<link rel="stylesheet" href="./codemirror-5.51.0/theme/dracula.css">
<link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">

<script src="./codemirror-5.51.0/lib/codemirror.js"></script>
<script src="./codemirror-5.51.0/mode/xml/xml.js"></script>
<script src="./codemirror-5.51.0/mode/shex/shex.js"></script>

<style>
    .CodeMirror { border: 1px solid #eee; }
</style>

<section id=demo>
  <h2>ShEx</h2>
<textarea id=shextext>
prefix : <https://schema.org/>
prefix xsd: <http://www.w3.org/2001/XMLSchema#>
base <http://example.org/>

:User {
    :name xsd:string;
    :age xsd:int;
    :knows @:User ;
    :worksFor @:Company ;
    :buys @<Product> {1,10};
}

:Company {
    :name xsd:string ;
    :hasEmployee @:User *;
    :possess @<Product> {5,}
}

<Product> {
    :name .;
    :sku xsd:boolean ;
    :manufacturer @<Organization> +
}

<Organization> {
    :name xsd:string ;
    :isPartOf @<Organization> ?;
    :hasDirectives @:User {5}
}

<TypeTest> {
    :z xsd:string;
    :b xsd:date;
    :c xsd:time;
    :d xsd:dateTime;
    :e xsd:duration;
    :f xsd:byte;
    :g xsd:decimal;
    :h xsd:int;
    :i xsd:integer;
    :j xsd:long;
    :k xsd:short;
    :l xsd:boolean;
    :m xsd:double;
    :n xsd:float;
    :xyz xsd:invent;
    }
</textarea>


<button id="shextoxmi">Transformar ShEx a XMI</button>
<button id="xmitoshex">Transformar XMI a ShEx</button>

<form>
    <textarea id=xmitext>
    </textarea>
</form>


    <script>
        var shExEditor = CodeMirror.fromTextArea(document.getElementById("shextext"), {
            mode: "shex",
            lineNumbers: true
        });

        var xmiEditor = CodeMirror.fromTextArea(document.getElementById("xmitext"), {
            mode: "xml",
            lineNumbers: true
        });

        xmiEditor.setOption("theme", "ayu-mirage");
        shExEditor.setOption("theme", "ayu-mirage");
    </script>
    <script src="main.js"></script>

</section>

